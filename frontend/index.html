<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="WellnessAI - AI-powered personal health and nutrition assistant using Whoop biometric data">
    <meta name="theme-color" content="#0a0f0d">
    <title>WellnessAI | Your Personal Health & Nutrition Assistant</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css?v=5">
</head>
<body>
    <div class="app-container">
        <!-- Animated Background -->
        <div class="gradient-bg" aria-hidden="true">
            <div class="gradient-orb orb-1"></div>
            <div class="gradient-orb orb-2"></div>
            <div class="gradient-orb orb-3"></div>
        </div>

        <!-- Sidebar -->
        <aside class="sidebar" role="complementary" aria-label="Health dashboard and controls">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                        </svg>
                    </div>
                    <span class="logo-text">WellnessAI</span>
                </div>
            </div>

            <!-- View Toggle -->
            <div class="view-toggle">
                <button class="view-btn active" id="chatViewBtn" aria-label="Chat view">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                    </svg>
                    Chat
                </button>
                <button class="view-btn" id="dashboardViewBtn" aria-label="Dashboard view">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/>
                        <rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/>
                    </svg>
                    Dashboard
                </button>
                <button class="view-btn" id="systemViewBtn" aria-label="System status view">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                    </svg>
                    System
                </button>
            </div>

            <!-- User Selection -->
            <div class="user-section">
                <label class="section-label" for="userSelect">Select Profile</label>
                <div class="user-select-wrapper">
                    <select id="userSelect" class="user-select" aria-label="Select user profile">
                        <option value="USER_00001">Loading profiles...</option>
                    </select>
                    <div class="select-arrow" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Health Stats Cards - Clean Simple Design -->
            <div class="stats-section" role="region" aria-label="How you're feeling today">
                <span class="section-label">Today's Snapshot</span>
                
                <div class="stat-card" data-type="recovery" role="button" tabindex="0">
                    <div class="stat-header">
                        <span class="stat-emoji" id="recoveryEmoji">üîã</span>
                        <span class="stat-label">Energy</span>
                    </div>
                    <div class="stat-main">
                        <span class="stat-value" id="recoveryScore">--</span>
                        <span class="stat-unit">%</span>
                    </div>
                    <span class="stat-status" id="recoveryStatus">Loading...</span>
                </div>

                <div class="stat-card" data-type="sleep" role="button" tabindex="0">
                    <div class="stat-header">
                        <span class="stat-emoji" id="sleepEmoji">üò¥</span>
                        <span class="stat-label">Sleep</span>
                    </div>
                    <div class="stat-main">
                        <span class="stat-value" id="sleepHours">--</span>
                        <span class="stat-unit">hrs</span>
                    </div>
                    <span class="stat-status" id="sleepStatus">Loading...</span>
                </div>

                <div class="stat-card" data-type="stress" role="button" tabindex="0">
                    <div class="stat-header">
                        <span class="stat-emoji" id="stressEmoji">üòå</span>
                        <span class="stat-label">Stress</span>
                    </div>
                    <div class="stat-main">
                        <span class="stat-value" id="hrvValue">--</span>
                        <span class="stat-unit">ms</span>
                    </div>
                    <span class="stat-status" id="stressStatus">Loading...</span>
                </div>

                <div class="stat-card" data-type="activity" role="button" tabindex="0">
                    <div class="stat-header">
                        <span class="stat-emoji" id="activityEmoji">üèÉ</span>
                        <span class="stat-label">Activity</span>
                    </div>
                    <div class="stat-main">
                        <span class="stat-value" id="strainValue">--</span>
                        <span class="stat-unit">pts</span>
                    </div>
                    <span class="stat-status" id="activityStatus">Loading...</span>
                </div>
            </div>

            <!-- Weather Widget -->
            <div class="weather-section" role="region" aria-label="Weather and health impact">
                <span class="section-label">Weather Impact</span>
                <div class="weather-card" id="weatherCard">
                    <div class="weather-location">
                        <input type="text" id="locationInput" placeholder="Detecting location..." value="" aria-label="Weather location">
                        <button id="detectLocation" class="weather-btn location-btn" aria-label="Detect my location" title="Use my location">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"></circle>
                                <path d="M12 2v3m0 14v3m-10-10h3m14 0h3"/>
                                <circle cx="12" cy="12" r="8"></circle>
                            </svg>
                        </button>
                        <button id="updateWeather" class="weather-btn" aria-label="Refresh weather data" title="Refresh weather">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 4 23 10 17 10"></polyline>
                                <polyline points="1 20 1 14 7 14"></polyline>
                                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
                            </svg>
                        </button>
                    </div>
                    <div class="weather-info">
                        <span class="weather-temp" id="weatherTemp">--¬∞C</span>
                        <span class="weather-condition" id="weatherCondition">Loading...</span>
                    </div>
                    <div class="weather-impacts" id="weatherImpacts" role="list" aria-label="Weather health impacts"></div>
                </div>
            </div>

            <!-- Quick Actions - Natural language questions -->
            <div class="quick-actions" role="region" aria-label="Get quick health advice">
                <span class="quick-actions-label">What would you like help with?</span>
                <button class="action-btn friendly" data-prompt="What should I eat today based on how I'm feeling?" aria-label="Get meal recommendations">
                    <span class="action-icon" aria-hidden="true">üçΩÔ∏è</span>
                    <span class="action-label">What should I eat today?</span>
                </button>
                <button class="action-btn friendly" data-prompt="I have a headache. What can I do to feel better?" aria-label="Get headache advice">
                    <span class="action-icon" aria-hidden="true">ü§ï</span>
                    <span class="action-label">I have a headache</span>
                </button>
                <button class="action-btn friendly" data-prompt="I'm feeling tired and low on energy. How can I boost my energy naturally?" aria-label="Get energy advice">
                    <span class="action-icon" aria-hidden="true">üò¥</span>
                    <span class="action-label">I'm feeling tired</span>
                </button>
                <button class="action-btn friendly" data-prompt="I'm having trouble sleeping. What can help me sleep better tonight?" aria-label="Get sleep tips">
                    <span class="action-icon" aria-hidden="true">üåô</span>
                    <span class="action-label">Help me sleep better</span>
                </button>
                
                <!-- Health Status Button -->
                <button class="health-alerts-btn" id="showAlertsBtn" aria-label="Check your health status">
                    <span aria-hidden="true">üíö</span>
                    Check my health
                    <span class="alert-count" id="alertCount">0</span>
                </button>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content" role="main">
            <!-- Chat View -->
            <div id="chatView" class="view-container active">
                <header class="chat-header">
                    <div class="header-left">
                        <h1>Your Personal Wellness Assistant</h1>
                        <p>Powered by your Whoop health data & AI</p>
                    </div>
                    <div class="header-right">
                        <button id="clearChat" class="header-btn" aria-label="Clear chat history">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                            </svg>
                            Clear Chat
                        </button>
                    </div>
                </header>

                <!-- Chat Messages -->
                <div class="chat-container" id="chatContainer" role="log" aria-live="polite" aria-label="Chat messages">
                    <div class="chat-messages" id="chatMessages">
                        <!-- Welcome Message -->
                        <div class="message assistant">
                            <div class="message-avatar" aria-hidden="true">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                                </svg>
                            </div>
                            <div class="message-content">
                                <div class="message-header">
                                    <span class="message-name">WellnessAI</span>
                                    <span class="message-time">Just now</span>
                                </div>
                                <div class="message-text">
                                    <h3>Welcome to WellnessAI! üåü</h3>
                                    <p>I'm your personal health and nutrition assistant, powered by your Whoop biometric data and <strong>predictive ML models</strong>.</p>
                                    
                                    <h4>What's New:</h4>
                                    <ul>
                                        <li><strong>üìä Dashboard View</strong> ‚Äî Interactive charts showing your health trends</li>
                                        <li><strong>üîÆ ML Predictions</strong> ‚Äî AI predicts tomorrow's recovery and optimal strain</li>
                                        <li><strong>üçΩÔ∏è Personalized Meals</strong> ‚Äî Nutrition based on your biometrics</li>
                                        <li><strong>‚ö†Ô∏è Risk Analysis</strong> ‚Äî Early warning system for health issues</li>
                                    </ul>
                                    
                                    <p>Try the <strong>Dashboard</strong> view to see your health trends and predictions, or ask me anything!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Scroll to Bottom Button -->
                <button class="scroll-bottom-btn" id="scrollBottomBtn" aria-label="Scroll to latest message" title="Scroll to bottom">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </button>

                <!-- Chat Input -->
                <div class="chat-input-container">
                    <div class="chat-input-wrapper">
                        <textarea 
                            id="chatInput" 
                            placeholder="Ask about meal plans, health concerns, or nutrition advice..."
                            rows="1"
                            aria-label="Type your health question"
                        ></textarea>
                        <button id="sendMessage" class="send-btn" aria-label="Send message">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                <line x1="22" y1="2" x2="11" y2="13"></line>
                                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                            </svg>
                        </button>
                    </div>
                    <p class="input-hint">
                        <span><kbd>Enter</kbd> to send</span>
                        <span><kbd>Shift</kbd> + <kbd>Enter</kbd> for new line</span>
                    </p>
                </div>
            </div>

            <!-- Dashboard View -->
            <div id="dashboardView" class="view-container">
                <header class="dashboard-header">
                    <div class="header-left">
                        <h1>Your Health Today</h1>
                        <p>Here's what your body is telling you</p>
                    </div>
                    <div class="header-right">
                        <select id="chartPeriod" class="period-select" aria-label="Time period">
                            <option value="7">Past Week</option>
                            <option value="14">Past 2 Weeks</option>
                            <option value="30" selected>Past Month</option>
                            <option value="60">Past 2 Months</option>
                        </select>
                    </div>
                </header>

                <div class="dashboard-content">
                    <!-- Daily Summary Card - First Thing Users See -->
                    <section class="daily-summary-section">
                        <div class="daily-summary-card" id="dailySummaryCard">
                            <div class="summary-emoji" id="summaryEmoji">üòä</div>
                            <div class="summary-content">
                                <h2 class="summary-headline" id="summaryHeadline">Checking how you're doing...</h2>
                                <p class="summary-detail" id="summaryDetail">We're analyzing your health data to give you personalized insights.</p>
                            </div>
                            <div class="summary-actions">
                                <button class="primary-action" id="summaryPrimaryAction" onclick="switchView('chat'); askPrimaryQuestion();">
                                    Get Today's Plan
                                </button>
                                <button class="secondary-action" id="summarySecondaryAction" onclick="scrollToDetails();">
                                    See Details
                                </button>
                            </div>
                        </div>
                    </section>
                    <!-- Predictions Section - Simplified Language -->
                    <section class="predictions-section">
                        <h2 class="section-title">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M12 16v-4M12 8h.01"/>
                            </svg>
                            What to Expect
                        </h2>
                        <div class="predictions-grid">
                            <!-- Tomorrow's Outlook -->
                            <div class="prediction-card recovery-prediction simple-card">
                                <div class="prediction-header">
                                    <span class="prediction-icon">üåÖ</span>
                                    <h3>Tomorrow's Outlook</h3>
                                </div>
                                <p class="prediction-summary" id="tomorrowSummary">
                                    Checking your patterns...
                                </p>
                                <div class="prediction-visual">
                                    <div class="outlook-indicator" id="outlookIndicator">
                                        <span class="outlook-emoji" id="outlookEmoji">ü§î</span>
                                        <span class="outlook-text" id="outlookText">Analyzing...</span>
                                    </div>
                                </div>
                                <details class="learn-more">
                                    <summary>Why do we think this?</summary>
                                    <p id="recoveryReasoning">Based on your sleep patterns and today's activity level, we can predict how you'll feel tomorrow.</p>
                                    <div class="technical-details">
                                        <span>Predicted score: <span id="predictedRecovery">--</span>%</span>
                                        <span id="recoveryRange" class="hidden">Range: -- - --%</span>
                                    </div>
                                </details>
                                <p class="prediction-recommendation" id="recoveryRecommendation">Loading...</p>
                            </div>

                            <!-- Activity Suggestion -->
                            <div class="prediction-card strain-prediction simple-card">
                                <div class="prediction-header">
                                    <span class="prediction-icon">üèÉ</span>
                                    <h3>What Should You Do Today?</h3>
                                </div>
                                <p class="prediction-summary" id="activitySummary">
                                    Finding the right activities for you...
                                </p>
                                <p class="prediction-recommendation" id="strainRecommendation">Loading...</p>
                                <div class="workout-suggestions friendly-suggestions" id="workoutSuggestions">
                                    <!-- Populated dynamically with friendly format -->
                                </div>
                                <details class="learn-more">
                                    <summary>Technical details</summary>
                                    <div class="technical-details">
                                        <span>Optimal strain: <span id="predictedStrain">--</span>/21</span>
                                        <span id="strainRange">Range: -- - --</span>
                                    </div>
                                </details>
                            </div>

                            <!-- Health Check -->
                            <div class="prediction-card risk-prediction simple-card">
                                <div class="prediction-header">
                                    <span class="prediction-icon">üíö</span>
                                    <h3>Health Check</h3>
                                </div>
                                <div class="health-status" id="healthStatus">
                                    <span class="status-emoji" id="healthEmoji">‚úÖ</span>
                                    <span class="status-text" id="healthText">Checking your health...</span>
                                </div>
                                <div class="health-tips" id="healthTips">
                                    <!-- Populated with friendly tips -->
                                </div>
                                <details class="learn-more">
                                    <summary>What we're watching</summary>
                                    <div class="risk-factors" id="riskFactors">
                                        <!-- Technical factors -->
                                    </div>
                                    <div class="technical-details">
                                        <span>Risk score: <span id="riskScore">--</span>%</span>
                                        <div id="riskLevel" class="hidden"></div>
                                    </div>
                                </details>
                            </div>
                        </div>
                    </section>

                    <!-- Charts Section - With Friendly Summaries -->
                    <section class="charts-section">
                        <h2 class="section-title">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/>
                                <line x1="6" y1="20" x2="6" y2="14"/>
                            </svg>
                            Your Progress
                        </h2>
                        <div class="charts-grid">
                            <!-- Energy Levels -->
                            <div class="chart-card with-summary">
                                <div class="chart-summary" id="recoverySummary">
                                    <span class="summary-icon">‚ö°</span>
                                    <p><strong>Your energy levels</strong> over time</p>
                                </div>
                                <h3>Energy & Activity Balance</h3>
                                <details class="chart-details" open>
                                    <summary>View chart</summary>
                                    <div class="chart-container">
                                        <canvas id="recoveryChart"></canvas>
                                    </div>
                                </details>
                            </div>

                            <!-- Sleep Quality -->
                            <div class="chart-card with-summary">
                                <div class="chart-summary" id="sleepSummary">
                                    <span class="summary-icon">üåô</span>
                                    <p><strong>Your sleep breakdown</strong> - are you getting enough deep rest?</p>
                                </div>
                                <h3>Sleep Quality</h3>
                                <details class="chart-details" open>
                                    <summary>View chart</summary>
                                    <div class="chart-container">
                                        <canvas id="sleepChart"></canvas>
                                    </div>
                                </details>
                            </div>

                            <!-- Stress & Heart Health -->
                            <div class="chart-card with-summary">
                                <div class="chart-summary" id="hrvSummary">
                                    <span class="summary-icon">üíì</span>
                                    <p><strong>Your stress levels</strong> and heart health indicators</p>
                                </div>
                                <h3>Stress & Recovery</h3>
                                <details class="chart-details" open>
                                    <summary>View chart</summary>
                                    <div class="chart-container">
                                        <canvas id="hrvChart"></canvas>
                                    </div>
                                </details>
                            </div>

                            <!-- Activity -->
                            <div class="chart-card with-summary">
                                <div class="chart-summary" id="caloriesSummary">
                                    <span class="summary-icon">üî•</span>
                                    <p><strong>Calories you've burned</strong> through daily activities</p>
                                </div>
                                <h3>Daily Activity</h3>
                                <details class="chart-details" open>
                                    <summary>View chart</summary>
                                    <div class="chart-container">
                                        <canvas id="caloriesChart"></canvas>
                                    </div>
                                </details>
                            </div>
                        </div>
                    </section>

                    <!-- Insights Section -->
                    <section class="insights-section">
                        <h2 class="section-title">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2a10 10 0 1 0 10 10H12V2z"/><path d="M20 12a8 8 0 0 0-8-8v8h8z"/>
                            </svg>
                            AI Insights
                        </h2>
                        <div class="insights-grid" id="insightsGrid">
                            <!-- Populated dynamically -->
                        </div>
                    </section>
                </div>
            </div>

            <!-- System Status View -->
            <div id="systemView" class="view-container" style="display: none;">
                <header class="dashboard-header">
                    <div class="header-left">
                        <h1>System Status</h1>
                        <p>GenAI components and capabilities</p>
                    </div>
                    <button class="refresh-btn" id="refreshSystemStatus" aria-label="Refresh system status">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="23 4 23 10 17 10"></polyline>
                            <polyline points="1 20 1 14 7 14"></polyline>
                            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                        </svg>
                        Refresh
                    </button>
                </header>
                
                <div class="system-grid">
                    <!-- AI Components -->
                    <section class="system-section">
                        <h2>ü§ñ AI Components</h2>
                        <div class="component-cards">
                            <div class="component-card" id="llmStatus">
                                <div class="component-icon">üß†</div>
                                <div class="component-info">
                                    <h3>Local LLM</h3>
                                    <p class="component-status loading">Checking...</p>
                                    <p class="component-detail">Model: <span id="llmModel">-</span></p>
                                    <p class="component-detail">Device: <span id="llmDevice">-</span></p>
                                </div>
                            </div>
                            <div class="component-card" id="recEngineStatus">
                                <div class="component-icon">‚öôÔ∏è</div>
                                <div class="component-info">
                                    <h3>Recommendation Engine</h3>
                                    <p class="component-status loading">Checking...</p>
                                    <p class="component-detail">Rule-based + ML predictions</p>
                                </div>
                            </div>
                            <div class="component-card" id="mlStatus">
                                <div class="component-icon">üìä</div>
                                <div class="component-info">
                                    <h3>ML Predictions</h3>
                                    <p class="component-status loading">Checking...</p>
                                    <p class="component-detail">Recovery, Strain, Risk models</p>
                                </div>
                            </div>
                            <div class="component-card" id="webSearchStatus">
                                <div class="component-icon">üîç</div>
                                <div class="component-info">
                                    <h3>Web Search</h3>
                                    <p class="component-status loading">Checking...</p>
                                    <p class="component-detail">DuckDuckGo API</p>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Web Search Tool -->
                    <section class="system-section">
                        <h2>üîç Web Search Tool</h2>
                        <p class="section-description">Search the web for health and nutrition information</p>
                        <div class="search-tool">
                            <div class="search-input-group">
                                <input type="text" id="webSearchInput" placeholder="Search for health topics, nutrition info, symptoms..." class="search-input">
                                <select id="searchType" class="search-type-select">
                                    <option value="general">General</option>
                                    <option value="health">Health Topic</option>
                                    <option value="nutrition">Nutrition Info</option>
                                    <option value="symptom">Symptom Info</option>
                                </select>
                                <button id="webSearchBtn" class="search-btn">Search</button>
                            </div>
                            <div id="searchResults" class="search-results">
                                <p class="search-placeholder">Enter a query above to search the web</p>
                            </div>
                        </div>
                    </section>
                    
                    <!-- GenAI Concepts -->
                    <section class="system-section">
                        <h2>üìö GenAI Concepts Demonstrated</h2>
                        <div class="concepts-grid">
                            <div class="concept-card">
                                <span class="concept-icon">üè†</span>
                                <h4>Local LLM Deployment</h4>
                                <p>HuggingFace Transformers running locally without API dependencies</p>
                            </div>
                            <div class="concept-card">
                                <span class="concept-icon">üíä</span>
                                <h4>Domain-Specific Models</h4>
                                <p>BioGPT trained on 15M PubMed abstracts for medical knowledge</p>
                            </div>
                            <div class="concept-card">
                                <span class="concept-icon">‚úçÔ∏è</span>
                                <h4>Prompt Engineering</h4>
                                <p>Structured prompts with health context and recommendations</p>
                            </div>
                            <div class="concept-card">
                                <span class="concept-icon">üîó</span>
                                <h4>RAG (Retrieval-Augmented)</h4>
                                <p>Web search integration for real-time information</p>
                            </div>
                            <div class="concept-card">
                                <span class="concept-icon">ü§ñ</span>
                                <h4>ML Predictions</h4>
                                <p>Scikit-learn RandomForest & GradientBoosting models</p>
                            </div>
                            <div class="concept-card">
                                <span class="concept-icon">üìã</span>
                                <h4>Recommendation Systems</h4>
                                <p>Rule-based expert system with ML integration</p>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </main>

        <!-- Health Risks Panel (Slide-in) -->
        <aside class="risks-panel" id="risksPanel" role="complementary" aria-label="Health alerts panel" aria-hidden="true">
            <div class="risks-header">
                <h3>‚ö†Ô∏è Health Alerts</h3>
                <button id="closeRisks" class="close-btn" aria-label="Close health alerts panel">
                    <span aria-hidden="true">√ó</span>
                </button>
            </div>
            <div class="risks-content" id="risksContent" role="list">
                <!-- Populated dynamically -->
            </div>
        </aside>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" role="status" aria-live="assertive" aria-label="Loading">
        <div class="loading-spinner">
            <div class="spinner-ring" aria-hidden="true"></div>
            <span>Analyzing your health data...</span>
        </div>
    </div>

    <!-- Onboarding Overlay -->
    <div id="onboardingOverlay" class="onboarding-overlay" style="display: none;">
        <div class="onboarding-backdrop"></div>
        <div class="onboarding-tooltip" id="onboardingTooltip">
            <div class="onboarding-step" id="onboardingStepIndicator">Step 1 of 5</div>
            <h3 class="onboarding-title" id="onboardingTitle">Welcome!</h3>
            <p class="onboarding-text" id="onboardingText">Let us show you around.</p>
            <div class="onboarding-actions">
                <button class="onboarding-skip" id="onboardingSkip">Skip tour</button>
                <button class="onboarding-next" id="onboardingNext">Next</button>
            </div>
        </div>
    </div>
    
    <!-- Floating Ask Button -->
    <button class="floating-ask-btn" id="floatingAskBtn" aria-label="Ask a question">
        <span class="floating-icon">üí¨</span>
        <span class="floating-text">Ask me anything</span>
    </button>
    
    <script src="app.js?v=5"></script>
</body>
</html>
